function renderStudForm(t){$("#studId").val(t.id),$("#first_name").val(t.first_name),$("#last_name").val(t.last_name),$("#gender").val(t.gender),$("#grade").val(t.grade),$("#textarea_allergies").val(t.allergies),$("#textarea_allergies").focus(),$("#first_name").focus()}function renderAdultList(t){$("#adult-list").empty();for(let e=0;e<t.Adults.length;e+=1){const a=t.Adults[e],d=$("<tr>");d.addClass("adult-row"),d.attr("data-adult-id",a.id);const n=$("<td>");n.text(`${a.last_name}, ${a.first_name}`),d.append(n);const s=$("<td>");s.text(`${a.Family.adult_type}`),d.append(s),$("#adult-list").append(d)}}function renderTeamList(t){console.log("TEAM",t.Teams),$("#team-list").empty();for(let e=0;e<t.Teams.length;e+=1){const a=t.Teams[e],d=$("<tr>");d.addClass("team-row"),d.attr("data-team-id",a.id);const n=$("<td>");n.text(a.team_name),d.append(n);const s=$("<td>");s.text(a.sport),d.append(s),$("#team-list").append(d)}}$(document).ready(()=>{$("select").formSelect()}),$(()=>{$(".student-row").on("click",function(t){const e=$(this).data("student-id");$.ajax(`/api/student/${e}`,{type:"GET"}).then((t,e)=>{renderStudForm(t),renderAdultList(t),renderTeamList(t)})}),$(".student-form").on("submit",t=>{t.preventDefault(),console.log("button submit in student form",t);const e=$(document.activeElement).val();console.log("button ",e);const a={student_id:$("#studId").val(),first_name:$("#first_name").val(),last_name:$("#last_name").val(),gender:$("select[id=gender]").val(),grade:$("select[id=grade]").val(),allergies:$("#textarea_allergies").val()};switch(console.log("formdata",a),console.log("button",e),e){case"delete":$.ajax(`/api/student/${a.student_id}`,{type:"DELETE"}).then((t,e)=>{console.log("Deleted student",t),location.reload()});break;case"update":console.log("update studet"),$.ajax(`/api/student/${a.student_id}`,{type:"PUT",data:a}).then((t,e)=>{console.log("Updated student res",t),location.reload()});break;case"add":console.log("add studet"),$.ajax("/api/student/",{type:"POST",data:a}).then((t,e)=>{console.log("Create student",t),location.reload()})}})});